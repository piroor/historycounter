/*
 Firefox 2 compatible tab structure library for Firefox 3 or later

 Usage:
   <?xul-overlay href="tabFx2Compatible.xul"?>

 lisence: The MIT License, Copyright (c) 2009-2010 SHIMODA "Piro" Hiroshi
   http://www.cozmixng.org/repos/piro/fx3-compatibility-lib/trunk/license.txt
 original:
   http://www.cozmixng.org/repos/piro/fx3-compatibility-lib/trunk/tabFx2Compatible.xul
   http://www.cozmixng.org/repos/piro/fx3-compatibility-lib/trunk/tabFx2Compatible.xml
   http://www.cozmixng.org/repos/piro/fx3-compatibility-lib/trunk/tabFx2Compatible.css
*/

@namespace url("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul");

:root[tabFx2Compatible="8"]
  .tabbrowser-tab {
	-moz-binding: url(tabFx2Compatible.xml#tabbrowser-tab-3) !important;
}

:root[tabFx2Compatible="8"][tabFx2Compatible-flags~="separate-tabContextMenu"]
  .tabbrowser-tab {
	-moz-binding: url(tabFx2Compatible.xml#tabbrowser-tab-4) !important;
}

:root[tabFx2Compatible="8"]:not([tabFx2Compatible-flags~="png-throbber"])
  .tabbrowser-tab[busy] > hbox > stack > .tab-icon-image {
	list-style-image: url("chrome://global/skin/throbber/Throbber-small.gif") !important;
	opacity: 0.6;
}

:root[tabFx2Compatible="8"][tabFx2Compatible-flags~="png-throbber"]
  .tabbrowser-tab[busy] > hbox > stack > .tab-icon-image {
	list-style-image: url("chrome://global/skin/icons/loading_16.png") !important;
}

:root[tabFx2Compatible="8"][tabFx2Compatible-flags~="mac"][tabFx2Compatible-flags~="png-throbber"]
  .tabbrowser-tab .tab-icon-image {
	list-style-image: url("chrome://global/skin/tree/item.png");
}

:root[tabFx2Compatible="8"][tabFx2Compatible-flags~="mac"]
  .tabbrowser-tab:not(:hover):not([selected="true"]) .tab-icon-image {
	opacity: 0.6;
}

:root[tabFx2Compatible="8"][tabFx2Compatible-flags~="pie"]
  .tabbrowser-tab[busy] > hbox > stack > .tab-icon-image {
	list-style-image: url("chrome://browser/skin/tabbrowser/progress.png") !important;
	-moz-image-region: rect(0, 16px, 16px, 0);
}
:root[tabFx2Compatible="8"][tabFx2Compatible-flags~="pie"]
  .tabbrowser-tab[busy][stalled] > hbox > stack > .tab-icon-image {
	list-style-image: url("chrome://browser/skin/tabbrowser/progress-pulsing.png") !important;
}
:root[tabFx2Compatible="8"][tabFx2Compatible-flags~="pie"]
  .tabbrowser-tab[busy][progress="1"] > hbox > stack > .tab-icon-image {
	-moz-image-region: rect(0, 32px, 16px, 16px);
}
:root[tabFx2Compatible="8"][tabFx2Compatible-flags~="pie"]
  .tabbrowser-tab[busy][progress="2"] > hbox > stack > .tab-icon-image {
	-moz-image-region: rect(0, 48px, 16px, 32px);
}
:root[tabFx2Compatible="8"][tabFx2Compatible-flags~="pie"]
  .tabbrowser-tab[busy][progress="3"] > hbox > stack > .tab-icon-image {
	-moz-image-region: rect(0, 64px, 16px, 48px);
}
:root[tabFx2Compatible="8"][tabFx2Compatible-flags~="pie"]
  .tabbrowser-tab[busy][progress="4"] > hbox > stack > .tab-icon-image {
	-moz-image-region: rect(0, 80px, 16px, 64px);
}
:root[tabFx2Compatible="8"][tabFx2Compatible-flags~="pie"]
  .tabbrowser-tab[busy][progress="5"] > hbox > stack > .tab-icon-image {
	-moz-image-region: rect(0, 96px, 16px, 80px);
}
:root[tabFx2Compatible="8"][tabFx2Compatible-flags~="pie"]
  .tabbrowser-tab[busy][progress="6"] > hbox > stack > .tab-icon-image {
	-moz-image-region: rect(0, 112px, 16px, 96px);
}
:root[tabFx2Compatible="8"][tabFx2Compatible-flags~="pie"]
  .tabbrowser-tab[busy][progress="7"] > hbox > stack > .tab-icon-image {
	-moz-image-region: rect(0, 128px, 16px, 112px);
}
:root[tabFx2Compatible="8"][tabFx2Compatible-flags~="pie"]
  .tabbrowser-tab[busy][progress="8"] > hbox > stack > .tab-icon-image {
	-moz-image-region: rect(0, 144px, 16px, 128px);
}

:root[tabFx2Compatible="8"]
  .tabbrowser-tab[selected="true"]:focus > hbox > .tab-text {
	border: 1px dotted -moz-DialogText;
}


:root[tabFx2Compatible="8"]
  .tabbrowser-tab[pinned="true"] .tab-text {
	visibility: collapse !important;
}

:root[tabFx2Compatible="8"]
  .tabbrowser-tab[pinned="true"] > .tab-image-left,
:root[tabFx2Compatible="8"]
  .tabbrowser-tab[pinned="true"] > .tab-image-right {
	display: none !important;
}
